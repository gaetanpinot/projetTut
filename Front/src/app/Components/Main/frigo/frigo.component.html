<h2>Mon Frigo</h2>
<h3>Liste des ingrédients dans mon frigo</h3>
<form class="frigo-form" [formGroup]="frigoForm" (ngSubmit)="enregistrerFrigo()">
  <ng-container formArrayName="ingredients">
    <ng-container *ngFor="let ingredientForm of ingredientsFormArrayControls; let i = index">
      <div class="ingredient-form-field" [formGroup]="ingredientForm">
        <mat-form-field>
          <input matInput formControlName="quantite"
              type="text" placeholder="quantité (ex: 10g)">
        </mat-form-field>
        <mat-form-field>
          <mat-select formControlName="id" placeholder="Ingrédient">
            @for(ing of ingredients; track ing.id){
              <mat-option [value]="ing.id">{{ing.nom}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Date d'ajout</mat-label>
          <input matInput formControlName="date_ajout" type="date">
        </mat-form-field>
        <mat-icon class="delete-btn" (click)="deleteIngredient(i)">
          delete_forever
        </mat-icon>
      </div>
    </ng-container>
  </ng-container>
  <button type="button" mat-mini-fab (click)="addIngredient()">
    <mat-icon class="add-ingredient-btn">add</mat-icon>
  </button>
  <button type="submit" [disabled]="!frigoForm.valid">Enregistrer mon frigo</button>
</form>
